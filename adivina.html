<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<title>Adivina el número</title>
		
		<!-- Mobile Specific Metas
		–––––––––––––––––––––––––––––––––––––––––––––––––– -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- FONT
		–––––––––––––––––––––––––––––––––––––––––––––––––– -->
		<link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
		<!-- CSS
		–––––––––––––––––––––––––––––––––––––––––––––––––– -->
		<link rel="stylesheet" href="css/normalize.css">
		<link rel="stylesheet" href="css/skeleton.css">
		
		<script type="text/javascript">
		
		window.onload = calcularNumeroSecretoYDeclararContador;
		var num_secreto; //variable
		const VIDAS = 5;
		var numero_intentos = 5;
		var acertado = false;



			function calcularNumeroSecretoYDeclararContador() {
				num_secreto = Math.floor(Math.random() * 10) + 1;
				console.log("El número secreto es: " + num_secreto);
				document.getElementById("contador").innerHTML = (numero_intentos);
						
			}
			
			function comprobarNumeroYActualizarContador(){
				console.log("El usuario quiere comprobar su numero");
				
				

				//Ubicar número usuario
				let num_usuario = document.getElementById("numeroElegido").value;
				console.log("El número elegido por el usuario es: " + num_usuario)

				//Validar número
				if (num_usuario == ""){
					window.alert("Introduce un número");
				}
				else{

				//Definir e iniciar número de intentos
				numero_intentos = (numero_intentos - 1);
				console.log("Número intentos restantes: " + numero_intentos);

				if (num_usuario == num_secreto) {
					console.log("Acierto");
					window.alert("Has acertado")
					acertado = true;

				}
				else if (num_usuario < num_secreto){
					console.log("El número buscado es mayor");
					window.alert("El número buscado es mayor")
				}
				else {
					console.log("El número buscado es menor");
					window.alert("El número buscado es menor")
				}

				}

				//Actualizar contador
				document.getElementById("contador").innerHTML = (numero_intentos);

				// Comprobar número de intentos
				if (numero_intentos == VIDAS && (!acertado)){
					console.log("Fin del juego");
					window.alert("Fin del juego. Reinicio.");
					//var btn_reintentar = document.createElement("input");
					//btn_reintentar.appendChild;


					window.location.reload(true); //recargo página
				}

			}
			
			
		</script>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="column 10">
					<h1>Adivina el número</h1>
					<p>Introduce un número del 1 al 10</p>
					<form action="">
						<fieldset>
							
							<label for="">Introduce un número:</label>
							<input type="number" id="numeroElegido" >
							<input type="button" value="Prueba" class="button" onclick="comprobarNumeroYActualizarContador()">
						</fieldset>
					</form>
					<div class="dvReintentar"></div>
						<div>
						<h2>Número de intentos restantes:</h2>
						<h3 id="contador"></h3>
					</div>
					</div> <!--cierre column-->
					</div> <!--cierre row-->
					</div> <!--cierre container-->
				</body>
			</html>